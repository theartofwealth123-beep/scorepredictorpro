<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ScorePredictor Pro • Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); color: white; min-height: 100vh; }
    .card-hover { transition: all 0.3s; }
    .card-hover:hover { transform: translateY(-10px); box-shadow: 0 25px 50px rgba(0,0,0,0.6); }
    .btn-glow { background: linear-gradient(45deg, #3b82f6, #8b5cf6); box-shadow: 0 0 30px rgba(139,92,246,0.5); }
    .result-glow { box-shadow: 0 0 40px rgba(34,197,94,0.4); }
  </style>
</head>
<body class="pt-10">

  <div class="max-w-7xl mx-auto px-6">

    <div class="text-center mb-16">
      <h1 class="text-7xl font-black bg-gradient-to-r from-blue-400 to-purple-600 bg-clip-text text-transparent">
        ScorePredictor Pro
      </h1>
      <p class="text-3xl mt-4 text-green-400 font-bold">ADMIN — FULL ACCESS</p>
      <button onclick="logout()" class="mt-8 bg-red-600 hover:bg-red-700 px-10 py-4 rounded-xl text-xl font-bold">
        Logout
      </button>
    </div>

    <!-- SIMULATOR -->
    <section class="bg-slate-900/50 backdrop-blur rounded-3xl p-12 mt-20">
      <h2 class="text-5xl font-bold mb-12">AI Prediction Engine</h2>
      <div class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto mb-10">
        <select id="league" class="bg-slate-800 rounded-xl px-6 py-5 text-xl" onchange="updateTeams()">
          <option>NBA</option><option>NFL</option><option>NHL</option><option>MLB</option><option>NCAAB</option><option>NCAAF</option>
        </select>
        <select id="home-team" class="bg-slate-800 rounded-xl px-6 py-5 text-xl">
          <option>Select Home Team</option>
        </select>
        <select id="away-team" class="bg-slate-800 rounded-xl px-6 py-5 text-xl">
          <option>Select Away Team</option>
        </select>
      </div>
      <button id="predict-btn" class="btn-glow text-white text-3xl font-bold px-16 py-7 rounded-2xl transform hover:scale-105 transition">
        RUN 50,000 SIMULATIONS
      </button>

      <div id="result" class="hidden mt-12 bg-black/70 backdrop-blur rounded-3xl p-12 result-glow">
        <h3 id="matchup" class="text-5xl font-bold mb-8"></h3>
        <div class="grid md:grid-cols-3 gap-12 text-center">
          <div><p class="text-gray-400 text-xl">Projected Score</p><p id="score" class="text-6xl font-bold text-green-400"></p></div>
          <div><p class="text-gray-400 text-xl">Win Probability</p><p id="win-prob" class="text-6xl font-bold text-yellow-400"></p></div>
          <div><p class="text-gray-400 text-xl">Edge vs Market</p><p id="edge" class="text-7xl font-bold text-green-400"></p></div>
        </div>
      </div>
    </section>
  </div>

  <!-- FULL NCAA TEAMS + ALL LEAGUES -->
  <script>
    const TEAMS = {
      NBA: ["Atlanta Hawks", "Boston Celtics", "Brooklyn Nets", "Charlotte Hornets", "Chicago Bulls", "Cleveland Cavaliers", "Dallas Mavericks", "Denver Nuggets", "Detroit Pistons", "Golden State Warriors", "Houston Rockets", "Indiana Pacers", "LA Clippers", "LA Lakers", "Memphis Grizzlies", "Miami Heat", "Milwaukee Bucks", "Minnesota Timberwolves", "New Orleans Pelicans", "New York Knicks", "Oklahoma City Thunder", "Orlando Magic", "Philadelphia 76ers", "Phoenix Suns", "Portland Trail Blazers", "Sacramento Kings", "San Antonio Spurs", "Toronto Raptors", "Utah Jazz", "Washington Wizards"],
      NFL: ["Arizona Cardinals", "Atlanta Falcons", "Baltimore Ravens", "Buffalo Bills", "Carolina Panthers", "Chicago Bears", "Cincinnati Bengals", "Cleveland Browns", "Dallas Cowboys", "Denver Broncos", "Detroit Lions", "Green Bay Packers", "Houston Texans", "Indianapolis Colts", "Jacksonville Jaguars", "Kansas City Chiefs", "Las Vegas Raiders", "Los Angeles Chargers", "Los Angeles Rams", "Miami Dolphins", "Minnesota Vikings", "New England Patriots", "New Orleans Saints", "New York Giants", "New York Jets", "Philadelphia Eagles", "Pittsburgh Steelers", "San Francisco 49ers", "Seattle Seahawks", "Tampa Bay Buccaneers", "Tennessee Titans", "Washington Commanders"],
      NHL: ["Anaheim Ducks", "Arizona Coyotes", "Boston Bruins", "Buffalo Sabres", "Calgary Flames", "Carolina Hurricanes", "Chicago Blackhawks", "Colorado Avalanche", "Columbus Blue Jackets", "Dallas Stars", "Detroit Red Wings", "Edmonton Oilers", "Florida Panthers", "Los Angeles Kings", "Minnesota Wild", "Montreal Canadiens", "Nashville Predators", "New Jersey Devils", "New York Islanders", "New York Rangers", "Ottawa Senators", "Philadelphia Flyers", "Pittsburgh Penguins", "San Jose Sharks", "Seattle Kraken", "St. Louis Blues", "Tampa Bay Lightning", "Toronto Maple Leafs", "Vancouver Canucks", "Vegas Golden Knights", "Washington Capitals", "Winnipeg Jets"],
      MLB: ["Arizona Diamondbacks", "Atlanta Braves", "Baltimore Orioles", "Boston Red Sox", "Chicago Cubs", "Chicago White Sox", "Cincinnati Reds", "Cleveland Guardians", "Colorado Rockies", "Detroit Tigers", "Houston Astros", "Kansas City Royals", "Los Angeles Angels", "Los Angeles Dodgers", "Miami Marlins", "Milwaukee Brewers", "Minnesota Twins", "New York Mets", "New York Yankees", "Oakland Athletics", "Philadelphia Phillies", "Pittsburgh Pirates", "San Diego Padres", "San Francisco Giants", "Seattle Mariners", "St. Louis Cardinals", "Tampa Bay Rays", "Texas Rangers", "Toronto Blue Jays", "Washington Nationals"],
      NCAAB: ["Abilene Christian University", "Air Force Academy", "Akron Zips", "Alabama Crimson Tide", "Alabama A&M Bulldogs", "Alabama State Hornets", "Alcorn State Braves", "American University", "Appalachian State Mountaineers", "Arizona Wildcats", "Arizona State Sun Devils", "Arkansas Razorbacks", "Arkansas Little Rock Trojans", "Arkansas State Red Wolves", "Army Black Knights", "Auburn Tigers", "Austin Peay Governors", "Ball State Cardinals", "Baylor Bears", "Belmont Bruins", "Bethune-Cookman Wildcats", "Binghamton Bearcats", "Boise State Broncos", "Boston College Eagles", "Boston University Terriers", "Bowling Green Falcons", "Bradley Braves", "Brown Bears", "Bryant Bulldogs", "Bucknell Bison", "Butler Bulldogs", "BYU Cougars", "California Golden Bears", "Cal State Bakersfield Roadrunners", "Cal State Fullerton Titans", "Cal State Northridge Matadors", "Campbell Fighting Camels", "Central Arkansas Bears", "Central Connecticut Blue Devils", "Charleston Cougars", "Charlotte 49ers", "Chicago State Cougars", "Cincinnati Bearcats", "Citadel Bulldogs", "Clemson Tigers", "Cleveland State Vikings", "Colgate Raiders", "Colorado Buffaloes", "Colorado State Rams", "Columbia Lions", "Cornell Big Red", "Creighton Bluejays", "Dartmouth Big Green", "Davidson Wildcats", "Dayton Flyers", "Delaware Blue Hens", "Delaware State Hornets", "Denver Pioneers", "DePaul Blue Demons", "Detroit Mercy Titans", "Drake Bulldogs", "Duquesne Dukes", "East Carolina Pirates", "Eastern Illinois Panthers", "Eastern Kentucky Colonels", "Eastern Michigan Eagles", "Eastern Washington Eagles", "Evansville Purple Aces", "Fairleigh Dickinson Knights", "Fairfield Stags", "Florida A&M Rattlers", "Florida Atlantic Owls", "Florida Gators", "Florida Gulf Coast Eagles", "Florida State Seminoles", "Fordham Rams", "Fresno State Bulldogs", "Furman Paladins", "Gardner-Webb Runnin' Bulldogs", "George Mason Patriots", "George Washington Revolutionaries", "Georgetown Hoyas", "Georgia Bulldogs", "Georgia Southern Eagles", "Georgia State Panthers", "Georgia Tech Yellow Jackets", "Gonzaga Bulldogs", "Grambling State Tigers", "Grand Canyon Antelopes", "Green Bay Phoenix", "Harvard Crimson", "Hawaii Rainbow Warriors", "High Point Panthers", "Hofstra Pride", "Holy Cross Crusaders", "Houston Cougars", "Howard Bison", "Illinois Fighting Illini", "Illinois State Redbirds", "Indiana Hoosiers", "Indiana State Sycamores", "Iona Gaels", "Iowa Hawkeyes", "Iowa State Cyclones", "Jackson State Tigers", "Jacksonville Dolphins", "Jacksonville State Gamecocks", "James Madison Dukes", "Kansas Jayhawks", "Kansas State Wildcats", "Kennesaw State Owls", "Kent State Golden Flashes", "Kentucky Wildcats", "La Salle Explorers", "Lafayette Leopards", "Lehigh Mountain Hawks", "Liberty Flames", "Lindenwood Lions", "Lipscomb Bisons", "Long Beach State Dirtbags", "Long Island Sharks", "Louisiana Ragin' Cajuns", "Louisiana Tech Bulldogs", "Louisville Cardinals", "Loyola Marymount Lions", "Loyola Chicago Ramblers", "LSU Tigers", "Maine Black Bears", "Manhattan Jaspers", "Marist Red Foxes", "Marquette Golden Eagles", "Marshall Thundering Herd", "Maryland Terrapins", "Massachusetts Minutemen", "Master's Mustangs", "McNeese State Cowboys", "Memphis Tigers", "Mercer Bears", "Miami Hurricanes", "Miami (OH) RedHawks", "Michigan Wolverines", "Michigan State Spartans", "Mid-American Conference", "Middle Tennessee Blue Raiders", "Mississippi State Bulldogs", "Missouri Tigers", "Monmouth Hawks", "Montana Grizzlies", "Morehead State Eagles", "Morgan State Bears", "Mount St. Mary's Mountaineers", "Murray State Racers", "Norfolk State Spartans", "North Carolina Tar Heels", "North Carolina A&T Aggies", "North Carolina Central Eagles", "North Carolina State Wolfpack", "North Dakota Fighting Hawks", "North Dakota State Bison", "North Florida Ospreys", "Northeastern Huskies", "Northern Colorado Bears", "Northern Iowa Panthers", "Northern Kentucky Norse", "Northwestern Wildcats", "Northwestern State Demons", "Notre Dame Fighting Irish", "Oakland Golden Grizzlies", "Ohio Bobcats", "Ohio State Buckeyes", "Oklahoma Sooners", "Oklahoma State Cowboys", "Old Dominion Monarchs", "Ole Miss Rebels", "Oral Roberts Golden Eagles", "Oregon Ducks", "Oregon State Beavers", "Penn State Nittany Lions", "Pennsylvania Quakers", "Pepperdine Waves", "Pittsburgh Panthers", "Portland Pilots", "Portland State Vikings", "Prairie View A&M Panthers", "Presbyterian Blue Hose", "Princeton Tigers", "Providence Friars", "Purdue Boilermakers", "Queens Royals", "Radford Highlanders", "Rhode Island Rams", "Rice Owls", "Richmond Spiders", "Rider Broncs", "Robert Morris Colonials", "Rochester Institute of Technology Tigers", "Rutgers Scarlet Knights", "Sacramento State Hornets", "Saint Francis (PA) Red Flash", "Saint Joseph's Hawks", "Saint Louis Billikens", "Saint Mary's Gaels", "Samford Bulldogs", "Sam Houston State Bearkats", "San Diego State Aztecs", "San Diego Toreros", "San Francisco Dons", "San Jose State Spartans", "Savannah State Tigers", "Seattle Redhawks", "Seton Hall Pirates", "Siena Saints", "South Carolina Gamecocks", "South Carolina State Bulldogs", "South Dakota State Jackrabbits", "South Florida Bulls", "Southeast Missouri State Redhawks", "Southeastern Louisiana Lions", "Southern Illinois Salukis", "Southern Miss Golden Eagles", "Southern University Jaguars", "Southern Utah Thunderbirds", "Southwest Baptist Bearcats", "St. Bonaventure Bonnies", "St. Francis Brooklyn Terriers", "St. John's Red Storm", "St. Louis Billikens", "St. Mary's (TX) Rattlers", "St. Peter's Peacocks", "Stanford Cardinal", "Stephen F. Austin Lumberjacks", "Stetson Hatters", "Stonehill Skyhawks", "Stony Brook Seawolves", "Syracuse Orange", "TCU Horned Frogs", "Temple Owls", "Tennessee Volunteers", "Tennessee State Tigers", "Tennessee Tech Golden Eagles", "Texas A&M Aggies", "Texas Longhorns", "Texas Southern Tigers", "Texas State Bobcats", "Texas Tech Red Raiders", "The Citadel Bulldogs", "Toledo Rockets", "Towson Tigers", "Troy Trojans", "Tulane Green Wave", "Tulsa Golden Hurricane", "UAB Blazers", "UC Davis Aggies", "UC Irvine Anteaters", "UC Riverside Highlanders", "UCLA Bruins", "UMass Lowell River Hawks", "UMBC Retrievers", "UNLV Runnin' Rebels", "UPenn Quakers", "Utah Utes", "Utah State Aggies", "UTEP Miners", "UTSA Roadrunners", "UVM Catamounts", "Vanderbilt Commodores", "VCU Rams", "Villanova Wildcats", "Virginia Cavaliers", "Virginia Tech Hokies", "VMI Keydets", "Wake Forest Demon Deacons", "Washington Huskies", "Washington State Cougars", "Weber State Wildcats", "West Georgia Wolves", "Western Carolina Catamounts", "Western Illinois Leathernecks", "Western Kentucky Hilltoppers", "Western Michigan Broncos", "Wichita State Shockers", "William & Mary Tribe", "Winthrop Eagles", "Wisconsin Badgers", "Wofford Terriers", "Wright State Raiders", "Wyoming Cowboys", "Xavier Musketeers", "Yale Bulldogs"],
      NCAAF: ["Air Force Falcons", "Akron Zips", "Alabama Crimson Tide", "Appalachian State Mountaineers", "Arizona Wildcats", "Arizona State Sun Devils", "Arkansas Razorbacks", "Arkansas State Red Wolves", "Army Black Knights", "Auburn Tigers", "Ball State Cardinals", "Baylor Bears", "Boise State Broncos", "Boston College Eagles", "Bowling Green Falcons", "Buffalo Bulls", "BYU Cougars", "California Golden Bears", "Central Michigan Chippewas", "Charlotte 49ers", "Cincinnati Bearcats", "Clemson Tigers", "Coastal Carolina Chanticleers", "Colorado Buffaloes", "Colorado State Rams", "Connecticut Huskies", "Delaware Blue Hens", "East Carolina Pirates", "Eastern Michigan Eagles", "Florida A&M Rattlers", "Florida Atlantic Owls", "Florida Gators", "Florida International Golden Panthers", "Florida State Seminoles", "Fresno State Bulldogs", "Gardner-Webb Runnin' Bulldogs", "Georgia Bulldogs", "Georgia Southern Eagles", "Georgia State Panthers", "Georgia Tech Yellow Jackets", "Hawaii Rainbow Warriors", "Houston Cougars", "Illinois Fighting Illini", "Indiana Hoosiers", "Iowa Hawkeyes", "Iowa State Cyclones", "Jacksonville State Gamecocks", "James Madison Dukes", "Kansas Jayhawks", "Kansas State Wildcats", "Kent State Golden Flashes", "Kentucky Wildcats", "Kennesaw State Owls", "Liberty Flames", "Louisiana Ragin' Cajuns", "Louisiana Tech Bulldogs", "Louisiana-Monroe Warhawks", "Louisville Cardinals", "LSU Tigers", "Marshall Thundering Herd", "Maryland Terrapins", "Massachusetts Minutemen", "Memphis Tigers", "Miami Hurricanes", "Miami (OH) RedHawks", "Michigan Wolverines", "Michigan State Spartans", "Middle Tennessee Blue Raiders", "Minnesota Golden Gophers", "Mississippi State Bulldogs", "Missouri Tigers", "Nevada Wolf Pack", "New Mexico Lobos", "New Mexico State Aggies", "North Carolina Tar Heels", "North Carolina State Wolfpack", "North Texas Mean Green", "Northern Illinois Huskies", "Northwestern Wildcats", "Notre Dame Fighting Irish", "Ohio Bobcats", "Ohio State Buckeyes", "Oklahoma Sooners", "Oklahoma State Cowboys", "Old Dominion Monarchs", "Ole Miss Rebels", "Oregon Ducks", "Oregon State Beavers", "Penn State Nittany Lions", "Pittsburgh Panthers", "Purdue Boilermakers", "Rice Owls", "Rutgers Scarlet Knights", "Sam Houston State Bearkats", "San Diego State Aztecs", "San Jose State Spartans", "SMU Mustangs", "South Alabama Jaguars", "South Carolina Gamecocks", "South Florida Bulls", "Southern Miss Golden Eagles", "Stanford Cardinal", "Syracuse Orange", "TCU Horned Frogs", "Temple Owls", "Tennessee Volunteers", "Texas A&M Aggies", "Texas Longhorns", "Texas State Bobcats", "Texas Tech Red Raiders", "Toledo Rockets", "Troy Trojans", "Tulane Green Wave", "Tulsa Golden Hurricane", "UAB Blazers", "UCF Knights", "UCLA Bruins", "UNLV Rebels", "USC Trojans", "UTEP Miners", "UTSA Roadrunners", "Vanderbilt Commodores", "Virginia Cavaliers", "Virginia Tech Hokies", "Wake Forest Demon Deacons", "Washington Huskies", "Washington State Cougars", "West Virginia Mountaineers", "Western Kentucky Hilltoppers", "Western Michigan Broncos", "Wisconsin Badgers", "Wyoming Cowboys"]
    };

    function updateTeams() {
      const league = document.getElementById("league").value;
      const teamList = TEAMS[league] || [];
      const homeSelect = document.getElementById("home-team");
      const awaySelect = document.getElementById("away-team");

      homeSelect.innerHTML = "<option>Select Home Team</option>" + teamList.map(t => `<option>${t}</option>`).join("");
      awaySelect.innerHTML = "<option>Select Away Team</option>" + teamList.map(t => `<option>${t}</option>`).join("");
    }
    updateTeams(); // Initial load

    function logout() {
      document.cookie = "token=;max-age=0;path=/";
      window.location.href = "/";
    }

    // Load real games
    fetch("/.netlify/functions/today-games")
      .then(r => r.json())
      .then(games => {
        if (!games.length) games = [
          {league:"NBA",home:"Lakers",away:"Celtics",time:"7:30 PM ET"},
          {league:"NFL",home:"Chiefs",away:"Bills",time:"8:20 PM ET"},
          {league:"NCAAF",home:"Alabama",away:"Georgia",time:"3:30 PM ET"}
        ];
        document.getElementById("games-container").innerHTML = games.map(g => `
          <div class="bg-slate-800/90 backdrop-blur rounded-3xl p-10 text-center card-hover border border-slate-700">
            <div class="text-sm uppercase tracking-wider text-purple-400">${g.league}</div>
            <div class="text-4xl font-black mt-4">${g.home}</div>
            <div class="text-6xl my-6 font-black text-gray-500">VS</div>
            <div class="text-4xl font-black">${g.away}</div>
            <div class="mt-8 text-2xl text-blue-400">${g.time || "Tonight"}</div>
            <button onclick="quick('${g.league}','${g.home}','${g.away}')" class="mt-6 bg-gradient-to-r from-purple-600 to-pink-600 px-10 py-4 rounded-xl font-bold text-xl">
              Predict Now
            </button>
          </div>
        `).join('');
      });

    function quick(l, h, a) {
      document.getElementById("league").value = l;
      document.getElementById("home-team").value = h;
      document.getElementById("away-team").value = a;
      updateTeams(); // Refresh dropdowns
      document.getElementById("predict-btn").click();
    }

    // Prediction Engine
    document.getElementById("predict-btn").onclick = async () => {
      const league = document.getElementById("league").value;
      const home = document.getElementById("home-team").value;
      const away = document.getElementById("away-team").value;
      if (!league || !home || !away) return alert("Select league and teams");

      const token = document.cookie.split("; ").find(r => r.startsWith("token="))?.split("=")[1];
      if (!token) return alert("Not logged in");

      const res = await fetch("/.netlify/functions/predict-matchup", {
        method: "POST",
        headers: { Authorization: `Bearer ${token}`, "Content-Type": "application/json" },
        body: JSON.stringify({ league, homeTeam: home, awayTeam: away })
      });

      const data = await res.json();
      if (res.ok) {
        document.getElementById("matchup").textContent = data.matchup;
        document.getElementById("score").textContent = data.projectedScore;
        document.getElementById("win-prob").textContent = data.winProbability[home];
        document.getElementById("edge").textContent = data.edgeVsMarket;
        document.getElementById("result").classList.remove("hidden");
        document.getElementById("result").scrollIntoView({ behavior: "smooth" });
      } else {
        alert("Error: " + data.error);
      }
    };
  </script>
</body>
</html>